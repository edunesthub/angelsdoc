{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielakpagli/Documents/angelsdoc/pdf-sign-web/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useRef, useState } from 'react';\nimport { PDFDocument } from 'pdf-lib';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport SignatureCanvas from 'react-signature-canvas';\n\n// Fix for PDF worker setup\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `${process.env.PUBLIC_URL}/pdf.worker.min.js`;\nfunction App() {\n  _s();\n  const [pdfFile, setPdfFile] = useState(null);\n  const [numPages, setNumPages] = useState(0);\n  const [signatureData, setSignatureData] = useState(null);\n  const sigCanvas = useRef();\n  const handleFile = e => setPdfFile(e.target.files[0]);\n  const handleSaveSignature = () => {\n    if (sigCanvas.current && !sigCanvas.current.isEmpty()) {\n      setSignatureData(sigCanvas.current.getTrimmedCanvas().toDataURL('image/png'));\n      alert('Signature saved!');\n    } else {\n      alert('Draw your signature first!');\n    }\n  };\n  const handleExport = async () => {\n    if (!pdfFile || !signatureData) {\n      alert('Select a PDF and draw a signature first!');\n      return;\n    }\n\n    // Load original PDF\n    const arrayBuffer = await pdfFile.arrayBuffer();\n    const pdfDoc = await PDFDocument.load(arrayBuffer);\n\n    // Embed signature as PNG\n    const pngImage = await pdfDoc.embedPng(signatureData);\n\n    // Draw signature on first page (adjust x/y/width/height as needed)\n    const page = pdfDoc.getPage(0);\n    const {\n      width,\n      height\n    } = page.getSize();\n    page.drawImage(pngImage, {\n      x: 50,\n      y: height - 150,\n      width: 200,\n      height: 100\n    });\n\n    // Save and trigger download\n    const pdfBytes = await pdfDoc.save();\n    const blob = new Blob([pdfBytes], {\n      type: 'application/pdf'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'signed.pdf';\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"PDF Signer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"application/pdf\",\n      onChange: handleFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), pdfFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Document, {\n        file: pdfFile,\n        onLoadSuccess: ({\n          numPages\n        }) => setNumPages(numPages),\n        children: Array.from({\n          length: numPages\n        }, (_, index) => /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: index + 1,\n          width: 600\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(SignatureCanvas, {\n          ref: sigCanvas,\n          penColor: \"black\",\n          canvasProps: {\n            width: 600,\n            height: 200,\n            className: 'sigCanvas'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSaveSignature,\n          children: \"Save Signature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExport,\n        style: {\n          marginTop: 10\n        },\n        children: \"Export Signed PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"N9aNY/N0yrDBXIlARBvoJz03y9I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useState","PDFDocument","Document","Page","pdfjs","SignatureCanvas","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","process","env","PUBLIC_URL","App","_s","pdfFile","setPdfFile","numPages","setNumPages","signatureData","setSignatureData","sigCanvas","handleFile","e","target","files","handleSaveSignature","current","isEmpty","getTrimmedCanvas","toDataURL","alert","handleExport","arrayBuffer","pdfDoc","load","pngImage","embedPng","page","getPage","width","height","getSize","drawImage","x","y","pdfBytes","save","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","file","onLoadSuccess","Array","from","length","_","index","pageNumber","border","marginTop","ref","penColor","canvasProps","className","onClick","_c","$RefreshReg$"],"sources":["/Users/gabrielakpagli/Documents/angelsdoc/pdf-sign-web/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useRef, useState } from 'react';\nimport { PDFDocument } from 'pdf-lib';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport SignatureCanvas from 'react-signature-canvas';\n\n// Fix for PDF worker setup\npdfjs.GlobalWorkerOptions.workerSrc = `${process.env.PUBLIC_URL}/pdf.worker.min.js`;\n\nfunction App() {\n  const [pdfFile, setPdfFile] = useState(null);\n  const [numPages, setNumPages] = useState(0);\n  const [signatureData, setSignatureData] = useState(null);\n  const sigCanvas = useRef();\n\n  const handleFile = (e) => setPdfFile(e.target.files[0]);\n\n  const handleSaveSignature = () => {\n    if (sigCanvas.current && !sigCanvas.current.isEmpty()) {\n      setSignatureData(sigCanvas.current.getTrimmedCanvas().toDataURL('image/png'));\n      alert('Signature saved!');\n    } else {\n      alert('Draw your signature first!');\n    }\n  };\n\n  const handleExport = async () => {\n    if (!pdfFile || !signatureData) {\n      alert('Select a PDF and draw a signature first!');\n      return;\n    }\n\n    // Load original PDF\n    const arrayBuffer = await pdfFile.arrayBuffer();\n    const pdfDoc = await PDFDocument.load(arrayBuffer);\n\n    // Embed signature as PNG\n    const pngImage = await pdfDoc.embedPng(signatureData);\n\n    // Draw signature on first page (adjust x/y/width/height as needed)\n    const page = pdfDoc.getPage(0);\n    const { width, height } = page.getSize();\n    page.drawImage(pngImage, {\n      x: 50,\n      y: height - 150,\n      width: 200,\n      height: 100,\n    });\n\n    // Save and trigger download\n    const pdfBytes = await pdfDoc.save();\n    const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'signed.pdf';\n    link.click();\n  };\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h1>PDF Signer</h1>\n\n      <input type=\"file\" accept=\"application/pdf\" onChange={handleFile} />\n\n      {pdfFile && (\n        <div>\n          <Document\n            file={pdfFile}\n            onLoadSuccess={({ numPages }) => setNumPages(numPages)}\n          >\n            {Array.from({ length: numPages }, (_, index) => (\n              <Page key={index} pageNumber={index + 1} width={600} />\n            ))}\n          </Document>\n\n          <div style={{ border: '1px solid #ccc', marginTop: 10 }}>\n            <SignatureCanvas\n              ref={sigCanvas}\n              penColor=\"black\"\n              canvasProps={{ width: 600, height: 200, className: 'sigCanvas' }}\n            />\n            <button onClick={handleSaveSignature}>Save Signature</button>\n          </div>\n\n          <button onClick={handleExport} style={{ marginTop: 10 }}>\n            Export Signed PDF\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}